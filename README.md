# CryptoCurrencyTrader

#### 虚拟货币自动交易程序


宏观市场行情分析
模块拆分成多线程

数据下载模块：
分不同的线程，每个线程下载不同的数据，下载完后进行不同的回调，将数据抛到上层

市场行情模块：
使用数据下载模块抛上来的数据，进行一定程度的分类和整理，以供其他模块使用，其中，每一类数据都有一个自己的状态标识，标识数据当前是否超时，无法使用等，设置一个回调，当行情数据变化时，进行回调，告诉上层可以进行策略判断了，也可以策略模块不断地自己去获取行情数据，进行判断。这里先全用回调模式

策略模块：
根据市场行情模块的数据，进行下单，产生卖入卖出信号。主要是买入信号，卖出信号需要扫描持有订单，判断是否盈利。和持有模块的融合，还需要考虑一下怎么去写

资产模块：
当前持有的 baseCurrency(BTC)，当前持有的 quoteCurrency(USDT)
持有的买入：订单时间，订单号，买入时的价格，成交数量，总花费
正在交易中的持有单
正在交易中的卖出单

订单监控结算模块：
不断检测当前挂出去的买卖单，超过一定时间，将订单撤销，重新纳入持有单，或者取消买入等。
计算每一个成交单的盈利


-----------------------------------------------------
订单操作模块：
已下单记录
待撤单记录

会有一个线程专门遍历上面两个数据库，进行操作，检查状态（检查是否有订单，即上次是否下单失败），回滚资金，执行操作


下单操作：
资金足够 -> 资金操作 -> 下单

打包行情下载器，将下载模块和行情模块包装在一起，更上层不关心上数据下载模块。